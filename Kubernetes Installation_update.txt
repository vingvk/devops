
Prerequisites
------------------
Elastic Compute Service (ECS) instance with Ubuntu 16.04 server installed.

Install docker 

apt-get update –y

apt install docker.io

docker –v

curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -

echo 'deb http://apt.kubernetes.io/ kubernetes-xenial main' | sudo tee /etc/apt/sources.list.d/kubernetes.list

apt-get update –y

apt-get install kubelet kubeadm kubectl -y

kubeadm init --pod-network-cidr=172.31.0.0/16 --apiserver-advertise-address=172.31.31.105

mkdir -p $HOME/.kube

cp -i /etc/kubernetes/admin.conf $HOME/.kube/config

chown $(id -u):$(id -g) $HOME/.kube/config

kubectl get nodes  ----> It should show your master is not ready

kubectl apply -f https://docs.projectcalico.org/v2.6/getting-started/kubernetes/installation/hosted/kubeadm/1.6/calico.yaml

kubectl get pods --all-namespaces

kubectl get nodes   ---> It should show your master is ready if not 

Please use below steps
----------------------

kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/k8s-manifests/kube-flannel-rbac.yml
kubectl get pods --all-namespaces
kubectl get nodes

